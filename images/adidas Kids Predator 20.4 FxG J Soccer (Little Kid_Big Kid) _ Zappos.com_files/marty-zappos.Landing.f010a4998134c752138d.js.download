(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1021:function(e,t,a){e.exports={pageWrap:"Tj",heading:"Uj",zapposHomepageNoBanner:"Vj",screenReadersOnly:"Wj"}},1043:function(e,t,a){"use strict";a.r(t),a.d(t,"Landing",(function(){return B}));var n=a(45),o=a.n(n),r=a(29),i=a.n(r),s=a(0),c=a.n(s),g=a(3),d=a.n(g),p=a(27),l=a(8),u=a.n(l),m=a(372),h=a.n(m),v=a(26),f=a.n(v),P=a(51),H=a(492),k=a(253),E=a(494),N=a(154),C=a(493),I=a(85),b=a(249),y=a(11),D=a(10),L=a(6),O=a(4),A=a(65),j=a(125),T=a(62),w=a(95),R=a(43),S=a(1021),_=a.n(S),x=D.shortName,M=D.homepage,U=D.hasHearting,V=D.landing.homepageMarginBanner,z=["genericBrandTrending","productSearch","recommender"],G=["recommender"],B=function(e){function t(t){var a;return(a=e.call(this,t)||this).getIpRestrictedInfo=function(){var e=a.props,t=e.landingPage,n=t.ipStatus,o=(n=void 0===n?{}:n).callCompleted,r=t.pageInfo,i=(r=void 0===r?{}:r).ipRestrictedContentPresent,s=void 0!==i&&i,c=e.getIpRestrictedStatus;s&&!o&&f.a.canUseDOM&&c()},a.makeAction=function(){var e=a.props,t=e.landingPage,n=e.isHomepage,o="Landing-"+t.pageInfo.subPageType+"-"+t.pageName;return n&&(o="Gateway-"+t.pageName),o},a.handleMonetateClick=function(e){var t=a.props.trackLegacyEvent,n=e.target;if(n.closest('[id^="monetate"]')){var o=n.closest("[data-eventlabel]").dataset,r=o.eventlabel,i=o.eventvalue;t(a.makeAction(),r,i)}},a.onComponentClick=a.onComponentClick.bind(o()(a)),a.trackPageView=a.trackPageView.bind(o()(a)),a.makePageHeading=a.makePageHeading.bind(o()(a)),a.getAllHeartCounts=a.getAllHeartCounts.bind(o()(a)),a}i()(t,e),t.fetchDataOnServer=function(e,t,a){var n=a.pageName;return e.dispatch(Object(C.h)(Object(w.a)(t.pathname)?M:n))};var a=t.prototype;return a.componentDidMount=function(){var e=this.props,t=e.track,a=e.location,n=void 0===a?{}:a,o=e.landingPage,r=o.pageName,i=o.pageInfo,s=void 0===i?{}:i,c=e.pageTypeChange,g=e.fetchAllRecommenderDataIfNecessary,d=e.params.pageName,p=e.setupLandingEventWatcher,l=e.isHomepage,u=e.getHearts;(0,e.onEvent)(window,"click",this.handleMonetateClick,null,this);var m=s.slotData,h=n.query,v=void 0===h?{}:h,f=!r||d&&r!==d||l&&r!==M;c(l?"homepage":"landing"),f?this.fetchData(l?M:d):this.trackPageView(d),g(s.slotData),u(),this.getAllHeartCounts(m),v.utm_content&&v.utm_content.includes("postPurchaseSizing")&&t((function(){return[k.c,{query:v}]})),p(this),this.getIpRestrictedInfo()},a.componentDidUpdate=function(e){var t,a=this.props,n=a.params,o=a.landingPage,r=a.isHomepage,i=a.recommenderEntries,s=e.params.pageName,c=e.landingPage.pageInfo,g=e.recommenderEntries,d=n.pageName,p=o.pageInfo;if(s!==d&&(r?this.fetchData(M):o.pageName!==d&&this.fetchData(d)),g!==i){var l=p.slotData,u=void 0===l?{}:l;Object.values(u).some((function(e){return G.includes(e.componentName)}))&&this.getAllHeartCounts(u)}o.pageInfo&&(null==c?void 0:c.canonicalUrl)!==(null==o?void 0:null==(t=o.pageInfo)?void 0:t.canonicalUrl)&&(this.trackPageView(d,this.props),this.getIpRestrictedInfo())},a.getAllHeartCounts=function(e){void 0===e&&(e={});var t=this.props,a=t.getHeartCounts,n=t.recommenderEntries,o=[];Object.values(e).forEach((function(t){var a=t.componentName;z.includes(a)&&o.push.apply(o,Object(j.b)(e,a,n))})),o.length&&a(o)},a.fetchData=function(e){(0,this.props.loadLandingPage)(e)},a.trackPageView=function(e,t){void 0===t&&(t=this.props);var a=t,n=a.firePixelServer,o=a.trackEvent,r=a.track,i=a.isHomepage,s=a.landingPage.pageInfo;i?(o("TE_PV_HOMEPAGE"),n("home")):(o("TE_PV_LANDINGPAGE"),n("landing",{},e)),Object(L.c)();var c=s?s.slotData:null;i&&c?r((function(){return[k.e,{slotData:c}]})):c&&r((function(){return[k.f,{pageName:e,slotData:c}]}))},a.makePageHeading=function(){var e=this.props,t=e.landingPage.pageInfo.pageHeading;return e.isHomepage?c.a.createElement("h1",{className:_.a.screenReadersOnly,"data-test-id":this.context.testId("heading")},x+" Homepage"):t?c.a.createElement("h1",{className:_.a.heading,"data-test-id":this.context.testId("heading"),dangerouslySetInnerHTML:{__html:h.a.sanitize(t)}}):void 0},a.onComponentClick=function(e){var t=this.props.trackLegacyEvent,a=e.currentTarget,n=this.makeAction(),o=Object(y.x)(a.getAttribute("data-eventlabel")),r=Object(y.x)(a.getAttribute("data-eventvalue"));e.stopPropagation(),t(n,o,r)},a.render=function(){var e,t=this.props,a=t.landingPage,n=a.isLoaded,o=a.pageInfo,r=a.pageName,i=a.slotOrder,s=t.isCustomer,g=t.isHomepage,d=t.heartProduct,p=t.hearts,l=t.products,m=t.toggleHeartingLoginModal,h=t.trackEvent,v=t.unHeartProduct,f=t.ipStatus,k=t.slotContentTypesList;if(!n)return c.a.createElement(I.b,null);var E={hasHearting:U,isCustomer:s,heartProduct:d,hearts:p,products:l,toggleHeartingLoginModal:m,trackEvent:h,unHeartProduct:v},N=Object(j.a)(E,{addedFrom:P.h,heartEventName:"TE_LANDING_PRODUCT_HEART",unHeartEventName:"TE_LANDING_PRODUCT_UNHEART"}),C=o.slotData,y=o.pageLayout,D=this.context.testId,L=this;return c.a.createElement(b.a,{loading:!n},c.a.createElement("div",{className:u()(_.a.pageWrap,(e={},e[_.a.zapposHomepageNoBanner]=g&&_.a.zapposHomepageNoBanner&&V,e)),"data-test-id":D("landingPage"),"data-layout":y,"data-page-id":r},L.makePageHeading(),i.map((function(e,t){var a;return c.a.createElement(H.a,{key:e,slotName:e,slotIndex:t,data:C[e],onComponentClick:L.onComponentClick,slotHeartsData:z.includes(null==(a=C[e])?void 0:a.componentName)&&N,shouldLazyLoad:Object(A.g)(t),ipStatus:f,slotContentTypesList:k})}))))},t}(s.Component);B.defaultProps={trackEvent:O.e,trackLegacyEvent:O.f,track:L.d,setupLandingEventWatcher:A.f,onEvent:R.c},B.contextTypes={testId:d.a.func,marketplace:d.a.object},t.default=Object(p.b)((function(e,t){var a,n=!(!f.a.canUseDOM||!e.cookies["x-main"]);return{landingPage:e.landingPage,ipStatus:e.landingPage.ipStatus,isHomepage:Object(w.a)(t.location.pathname),hearts:null==(a=e.hearts)?void 0:a.heartsStyleIds,recommenderEntries:e.recos,isCustomer:n,products:e.products}}),{loadLandingPage:C.h,getIpRestrictedStatus:C.f,fetchAllRecommenderDataIfNecessary:C.a,firePixelServer:N.b,pageTypeChange:E.a,getHeartCounts:T.i,getHearts:T.j,heartProduct:T.m,unHeartProduct:T.q,toggleHeartingLoginModal:T.p})(B)}}]);
//# sourceMappingURL=marty-zappos.Landing.f010a4998134c752138d.js.map